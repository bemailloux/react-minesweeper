(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n(2),r=n(4),o=n(3),s=n(5),l=n(0),u=n.n(l),c=n(7),m=n.n(c),h=(n(14),{unknown:"-",mine:"x",0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,flag:"F"});function f(e,t,n){if(e[t][n]===h.mine)return h.mine;var a=0;return t>0&&(n>0&&e[t-1][n-1]===h.mine&&a++,e[t-1][n]===h.mine&&a++,n<e[t].length-1&&e[t-1][n+1]===h.mine&&a++),n>0&&e[t][n-1]===h.mine&&a++,e[t][n]===h.mine&&a++,n<e[t].length-1&&e[t][n+1]===h.mine&&a++,t<e.length-1&&(n>0&&e[t+1][n-1]===h.mine&&a++,e[t+1][n]===h.mine&&a++,n<e[t].length-1&&e[t+1][n+1]===h.mine&&a++),a}function d(e,t){for(var n=new Array(parseInt(e)),a=0;a<e;a++)n[a]=new Array(parseInt(t)).fill(h.unknown);return n}function v(e,t,n){if(!(n>e*t)){for(var a=new Array(parseInt(e)),i=0;i<e;i++)a[i]=new Array(parseInt(t));for(var r=0;r<n;r++){var o=void 0,s=void 0;do{o=Math.floor(Math.random()*e),s=Math.floor(Math.random()*t)}while(a[o][s]===h.mine);a[o][s]=h.mine}for(var l=0;l<e;l++)for(var u=0;u<t;u++)a[l][u]=f(a,l,u);return a}}function w(e){return u.a.createElement("button",{className:"square bg-color"+e.value,onClick:e.onClick,onContextMenu:function(t){t.preventDefault(),e.onRightClick()}},e.value)}var g=function(e){function t(){return Object(a.a)(this,t),Object(r.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){for(var e=this,t=[],n=function(n){for(var a=[],i=function(t){a.push(u.a.createElement(w,{key:n+" "+t,value:e.props.board[n][t],onClick:function(){return e.props.btnClick(n,t)},onRightClick:function(){return e.props.btnRightClick(n,t)}}))},r=0;r<e.props.cols;r++)i(r);t.push(u.a.createElement("div",{className:"board-row",key:n},a))},a=0;a<this.props.rows;a++)n(a);return u.a.createElement("div",{className:"board"},t)}}]),t}(u.a.Component);function p(e){return u.a.createElement("button",{className:"new-game-button",onClick:e.onClick},"New Game")}function b(e){return u.a.createElement("select",{className:"difficulty-picker",defaultValue:"beginner",onChange:function(t){e.onChange(t.target.value)}},u.a.createElement("option",{value:"beginner"},"Beginner"),u.a.createElement("option",{value:"intermediate"},"Intermediate"),u.a.createElement("option",{value:"expert"},"Expert"))}var k=function(e){function t(e){var n;Object(a.a)(this,t);return(n=Object(r.a)(this,Object(o.a)(t).call(this,e))).timer=null,n.state={rows:10,cols:10,mines:10,viewableBoard:d(10,10),hiddenBoard:null,showHidden:!1,gameWon:null,time:0,isNewGame:!0,difficulty:"beginner",flagsLeft:10},n}return Object(s.a)(t,e),Object(i.a)(t,[{key:"handleButtonClick",value:function(e,t){var n=this.state.hiddenBoard;if(this.state.isNewGame){do{n=v(this.state.rows,this.state.cols,this.state.mines)}while(n[e][t]!==h[0]);this.setState({hiddenBoard:n,isNewGame:!1})}if(this.state.viewableBoard[e][t]!==h.flag){if(n[e][t]===h.mine)return this.setState({showHidden:!0,gameWon:!1}),void clearInterval(this.timer);var a=function e(t,n,a,i){return t[a][i]!==h.unknown?t:(t[a][i]=n[a][i],n[a][i]===h[0]&&(a>0&&(i>0&&(t=e(t,n,a-1,i-1)),i<(t=e(t,n,a-1,i))[0].length-1&&(t=e(t,n,a-1,i+1))),i>0&&(t=e(t,n,a,i-1)),i<t[0].length-1&&(t=e(t,n,a,i+1)),a<t.length-1&&(i>0&&(t=e(t,n,a+1,i-1)),i<(t=e(t,n,a+1,i))[0].length-1&&(t=e(t,n,a+1,i+1)))),t)}(this.state.viewableBoard,n,e,t);(function(e,t){return e.map(function(e){return e.map(function(e){return e===h.unknown||e===h.flag?h.mine:e})}).every(function(e,n){return e.every(function(e,a){return e===t[n][a]})})})(a,n)&&(this.setState({gameWon:!0}),clearInterval(this.timer)),this.setState({viewableBoard:a})}}},{key:"handleButtonRightClick",value:function(e,t){var n=this.state.viewableBoard,a=this.state.flagsLeft;n[e][t]===h.unknown&&a>0?(n[e][t]=h.flag,a--):n[e][t]===h.flag&&(n[e][t]=h.unknown,a++),this.setState({viewableBoard:n,flagsLeft:a})}},{key:"showAnswer",value:function(){this.setState({showHidden:!0,gameWon:!1}),clearInterval(this.timer)}},{key:"startNewGame",value:function(e){var t=this,n=null;"beginner"===(e=e||this.state.difficulty)?n={rows:10,cols:10,mines:10}:"intermediate"===e?n={rows:16,cols:16,mines:40}:"expert"===e&&(n={rows:16,cols:30,mines:99}),this.setState({rows:n.rows,cols:n.cols,mines:n.mines,viewableBoard:d(n.rows,n.cols),hiddenBoard:null,gameWon:null,showHidden:!1,time:0,isNewGame:!0,difficulty:e,flagsLeft:n.mines}),clearInterval(this.timer),this.timer=setInterval(function(){t.setState({time:t.state.time+1})},1e3)}},{key:"renderBoard",value:function(){var e=this;return u.a.createElement(g,{rows:this.state.rows,cols:this.state.cols,mines:this.state.mines,board:this.state.showHidden?this.state.hiddenBoard:this.state.viewableBoard,btnClick:function(t,n){return e.handleButtonClick(t,n)},btnRightClick:function(t,n){return e.handleButtonRightClick(t,n)}})}},{key:"componentDidMount",value:function(){this.startNewGame()}},{key:"render",value:function(){var e=this,t="";return!0===this.state.gameWon?t="You won! :)":!1===this.state.gameWon&&(t="Game over! :("),t+=" Time: "+this.state.time+" seconds",u.a.createElement("div",null,u.a.createElement("h1",null,"Minesweeper"),this.renderBoard(),u.a.createElement("div",{className:"win-or-lose"},t),u.a.createElement("div",{className:"flag-counter"},"Mines remaining: "+this.state.flagsLeft),u.a.createElement(p,{onClick:function(){return e.startNewGame()}}),u.a.createElement(b,{onChange:function(t){return e.startNewGame(t)}}))}}]),t}(u.a.Component);m.a.render(u.a.createElement(k,null),document.getElementById("root"))},8:function(e,t,n){e.exports=n(15)}},[[8,1,2]]]);
//# sourceMappingURL=main.35a4324e.chunk.js.map